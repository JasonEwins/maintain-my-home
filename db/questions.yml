---
location:
  question: Where is the problem located?
  answers:
    - text: In a communal area
      goto: describe_communal_problem

    - text: In my home
      goto: which_room

describe_communal_problem:
  question: Please describe the problem in the communal area

which_room:
  question: Which room?
  answers:
    - text: Kitchen
      goto: kitchen_problem

    - text: Bathroom
      goto: bathroom_problem

    - text: Other
      goto: other_problem

kitchen_problem:
  question: What is the problem in your kitchen?
  answers:
    - text: Cupboards

    - text: Sink
      goto: is_sink_blocked

    - text: Damp or mould
      goto: describe_kitchen_damp

    - text: Taps
      goto: is_kitchen_tap_stuck_open

    - text: Electrical
      goto: kitchen_electrical_problem

    - text: Other
      goto: kitchen_other_problem

is_kitchen_tap_stuck_open:
  question: Is the tap stuck open?
  answers:
    - text: 'Yes'
      page: emergency_contact

    - text: 'No'

kitchen_electrical_problem:
  question: Is your problem one of these?
  answers:
    - text: Extractor fan
      goto: is_fan_leaking_water

    - text: Lights
      goto: bathroom_lights_problem
      todo: SHOULD GO SOMEWHERE ELSE?

    - text: Smoke detector

    - text: Sockets
      page: electrical_hazard_warning

other_electrical_problem:
  question: Is your problem one of these?
  answers:
    - text: Light fitting
      goto: water_leaking_into_light

    - text: Light switches
      page: electrical_hazard_warning

    - text: Carbon monoxide detector

    - text: Smoke detector

    - text: Broken power socket
      page: electrical_hazard_warning

bathroom_problem:
  question: What is the problem in your bathroom?
  answers:
    - text: Toilet
      goto: toilet_problem

    - text: Taps
      goto: is_bathroom_tap_stuck_open

    - text: Bath
      goto: is_bath_leaking

    - text: Damp or mould
      goto: describe_bathroom_damp

    - text: Basin
      goto: is_basin_leaking_or_cracked

    - text: Extractor fan
      goto: is_fan_leaking_water

    - text: Lights
      goto: bathroom_lights_problem

    - text: Something else
      goto: bathroom_other_problem

is_basin_leaking_or_cracked:
  question: Is the basin leaking or cracked?
  answers:
    - text: 'Yes'

    - text: 'No'
      goto: is_basin_blocked

is_basin_blocked:
  question: Is the basin blocked?
  answers:
    - text: 'Yes'
    - text: 'No'

is_fan_leaking_water:
  question: Is there water leaking into or from the fan?
  answers:
    - text: 'Yes'
      page: emergency_contact

    - text: 'No'

is_bathroom_tap_stuck_open:
  question: Is the tap stuck open?
  answers:
    - text: 'Yes'
      page: emergency_contact

    - text: 'No'

is_bath_leaking:
  question: Is your bath leaking?
  answers:
    - text: 'Yes'
      page: emergency_contact

    - text: 'No'
      goto: is_bath_blocked_or_cracked

is_bath_blocked_or_cracked:
  question: Is your bath blocked or cracked?
  answers:
    - text: 'Yes'
    - text: 'No'

bathroom_lights_problem:
  question: Is the problem with the...
  answers:
    - text: light fitting
      goto: water_leaking_into_light

    - text: light switch
      page: electrical_hazard_warning

bathroom_other_problem:
  question: Are you electrics safe?
  answers:
    - text: 'Yes'

    - text: 'No'
      page: emergency_contact

other_problem:
  question: What is the problem?
  answers:
   - text: Electrical
     goto: other_electrical_problem

   - text: Heating

   - text: Damp or mould
     todo: DESCRIBE MOULD

   - text: Gas
     page: emergency_contact

   - text: Windows
     goto: window_problem

   - text: External doors
     goto: external_doors_problem

   - text: Internal doors

   - text: Something else
     goto: describe_unknown_repair
     todo: UNSAFE ELECTRICS?

describe_unknown_repair:
  question: Please describe the problem you need repairing...

window_problem:
  question: Are you able to close the window securely?
  answers:
    - text: 'Yes'
      goto: window_glass_damaged

    - text: 'No'
      page: emergency_contact

window_glass_damaged:
  question: Is there damage to the glass?
  answers:
    - text: 'Yes'
      page: emergency_contact

    - text: 'No'
      goto: window_material

window_material:
  question: Is your door made out of...
  answers:
    - text: Wood
    - text: PVC

external_doors_problem:
  question: Are you able to secure access to your property?
  answers:
    - text: 'Yes'
      goto: fire_door

    - text: 'No'
      page: emergency_contact

fire_door:
  question: Is it a fire door?
  answers:
    - text: 'Yes'
      page: emergency_contact
    - text: 'No'
      goto: describe_external_door_problem

describe_external_door_problem:
  question: Please describe the problem with the external door...

water_leaking_into_light:
  question: Is there water leaking into or from the light?
  answers:
    - text: 'Yes'
      page: emergency_contact

    - text: 'No'
      goto: who_fitted_light

who_fitted_light:
  question: Did you fit the light yourself?
  answers:
    - text: 'Yes'
      page: repair_your_responsibility

    - text: 'No'
      goto: light_check_trip_switches

light_check_trip_switches:
  question: Have you checked the trip switches?
  answers:
    - text: 'Yes'
      goto: is_lightbulb_changed

    - text: 'No'
      page: check_fusebox

is_lightbulb_changed:
  question: Have you tried changing the lightbulb, and the light is still not working?
  answers:
    - text: 'Yes, I have and the light is still not working'

    - text: 'No'
      page: repair_your_responsibility

toilet_problem:
  question: Is your toilet...?
  answers:
    - text: blocked
      goto: blocked_only_toilet

    - text: not flushing

    - text: cracked

    - text: leaking
      goto: toilet_flood_danger

toilet_flood_danger:
  question: Is there danger of flooding?
  answers:
    - text: 'Yes'
      page: emergency_contact

    - text: 'No'

blocked_only_toilet:
  question: Is this your only toilet?
  answers:
    - text: 'Yes'
      page: emergency_contact
    - text: 'No'
      page: toilet_unblock_info

is_sink_blocked:
  question: Is your sink blocked?
  answers:
    - text: 'Yes'
      page: kitchen_sink_unblock_info

    - text: 'No'
      goto: is_sink_leaking

is_sink_leaking:
  question: Is your sink leaking?
  answers:
    - text: 'Yes'
      page: emergency_contact

    - text: 'No'
      goto: describe_sink_problem

describe_sink_problem:
  question: Please describe the problem with your sink

describe_kitchen_damp:
  question: Please give details of the damp in your kitchen

describe_bathroom_damp:
  question: Please give details of the damp in your bathroom

kitchen_other_problem:
  question: What is the problem in your kitchen?

bathroom_other_problem:
  question: What is the problem in your bathroom?
